<html>
	<head>
		<title>TEST SOCKET</title>
	</head>
	<h1>TEST SOCKET</h1>

	<body>
		<script src="http://localhost:3000/socket.io/socket.io.js"></script>
		<script>
			'use strict';

			var socket = io.connect('http://localhost:3000');

			socket.on('device-appeared', onDeviceAppeared);
			socket.on('hello', onHello);
			socket.on('disconnect', onServerDisconnected);

			/**
			 * Logs passed arguments to console using a prefix.
			 *
			 */
			function log() {
				var prefix = '[ WIFELL-CLIENT ]-->',
				args = [prefix];

				for (var i=0; i<arguments.length; ++i) {
					args.push(arguments[i]);
				}

				console.log.apply(console, args);
			}

			function onDeviceAppeared(data) {
				log('onDeviceAppeared:', data);
			}

			function onHello(data) {
				log('onHello:', data);
			}

			function onServerDisconnected(data) {
				log('onServerDisconnected:', data);
			}


		</script>
	</body>
</html>